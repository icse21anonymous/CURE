Buggy line:
while (true) {

CURE's patch:
while( queue.size( ) >0) {

Developer's patch:
while (!queue.isEmpty()) {
